<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The 8 Wastes Quiz</title><!--css stylesheet-->
    <link rel="stylesheet" href="assets/css/style.css" type="text/css" />
</head>
<body>
    
    <section>
        <h1>Name the 8 Wastes ... <span id="answerSpan"></span></h1>
        <div id="wastecontainer">
            <form>
                <label for="waste1">Waste 1:</label>
                <input type="text" id="waste1" > 
                <br> 
                <label for="wasteTwo">Waste 2:</label>
                <input type="text" id="waste2" >
                <br> 
                <label for="wasteThree">Waste 3:</label>
                <input type="text" id="waste3" >
                <br> 
                <label for="wasteFour">Waste 4:</label>
                <input type="text" id="waste4" >
                <br> 
                <label for="wasteFive">Waste 5:</label>
                <input type="text" id="waste5" >
                <br> 
                <label for="wasteSix">Waste 6:</label>
                <input type="text" id="waste6" >
                <br> 
                <label for="wasteSeven">Waste 7:</label>
                <input type="text" id="waste7" >
                <br> 
                <label for="wasteEight">Waste 8:</label>
                <input type="text" id="waste8" >
            </form>
        </div>
        <div>
            <button onclick="checkAnswers()">Check Answers</button>
            <button id="buttonReset" onclick="resetAnswers()">Reset Answers</button>
        </div>
    </section>

    <script>
        function checkAnswers() {
            let answerScore = 0
            let answerList = ['dummy', 
                                ['inventory', 'excess inventory'], 
                                ['transportation', 'unnecessary transportation'], 
                                ['motion', 'extra motion'], 
                                ['waiting', 'waiting time'], 
                                ['overproduction', 'over-production'],
                                ['overprocessing', 'over-processing', 'over processing', 'extra processing', 'extra-processing', 'excess processing'], 
                                ['defects', 'errors'], 
                                ['skills', 'talent', 'unused talent', 'non-utilised-talent', 'non utilised talent', 'unutilised talents', 'non-utilized-talent', 'non utilized talent', 'unutilized talents']];
            
            for (let answerCount = 1; answerCount <= 8; answerCount++) { 
                let questionString = "waste" + answerCount;
                console.log(questionString);
                let answerVal = document.getElementById(questionString);
                let answerText = answerVal.value.toLowerCase();
                console.log(answerText);
                
                resultIndex = getIndexOfK(answerList, answerText);
                console.log(resultIndex);
                if (resultIndex != undefined && answerText != "") {
                    console.log('found it');
                    let answerIndex = resultIndex[0];
                    console.log(answerIndex);
                    answerList.splice(answerIndex, 1);
                    console.log(answerList);
                    ++answerScore;
                }else {
                    console.log('cannot find it');
                }
            }

            answerSpanText = document.getElementById("answerSpan");
            answerSpanText.innerText = answerScore + " correct"
        }

        function resetAnswers() {
            let answerScore = 0
            let answerList = ['dummy', 
                                ['inventory', 'excess inventory'], 
                                ['transportation', 'unnecessary transportation'], 
                                ['motion', 'extra motion'], 
                                ['waiting', 'waiting time'], 
                                ['overproduction', 'over-production', 'over production'],
                                ['overprocessing', 'over-processing', 'over processing', 'extra processing', 'extra-processing', 'excess processing'], 
                                ['defects', 'errors'], 
                                ['skills', 'talent', 'unused talent', 'non-utilised-talent', 'non utilised talent', 'unutilised talents', 'non-utilized-talent', 'non utilized talent', 'unutilized talents']];
            console.log(answerList);
            for (let answerCount = 1; answerCount <= 8; answerCount++) { 
                let questionString = "waste" + answerCount;
                let answerVal = document.getElementById(questionString);
                answerVal.value = "";
            }
            answerSpanText = document.getElementById("answerSpan");
            answerSpanText.innerText = ""
        }

        function getIndexOfK(arr, k) { //credit to https://jsfiddle.net/wao20/Lct1de56/ via https://stackoverflow.com/questions/16102263/to-find-index-of-multidimensional-array-in-javascript
            for (var i = 0; i < arr.length; i++) {
                var index = arr[i].indexOf(k);
                if (index > -1) {
                return [i, index];
                }
            }
        }

    </script>

</body>
</html>