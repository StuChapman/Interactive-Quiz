
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drag and drop Quiz</title>
        <!--Bootstrap stylesheet-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/style.css" type="text/css" />
    <script src="assets/scripts/DragDropTouch.js"></script>
    <script src="assets/scripts/scripts.js"></script>

</head>

<body>

<canvas id="drawContainer" width="500" height="250" style="touch-action: none" class="canvasOne"></canvas>

<script>
let i = 0;
let XcoordS1, YcoordS1, XcoordF1, YcoordF1 = 0;
let XcoordS2, YcoordS2, XcoordF2, YcoordF2 = 0;
let XcoordS3, YcoordS3, XcoordF3, YcoordF3 = 0;
let XcoordS4, YcoordS4, XcoordF4, YcoordF4 = 0;
let XcoordS5, YcoordS5, XcoordF5, YcoordF5 = 0;
let XcoordS6, YcoordS6, XcoordF6, YcoordF6 = 0;

const canvasEle = document.getElementById('drawContainer');
const context = canvasEle.getContext('2d');
let startPosition = {x: 0, y: 0};
let lineCoordinates = {x: 0, y: 0};
let isDrawStart = false;

const getClientOffset = (event) => {
    const {pageX, pageY} = event.touches ? event.touches[0] : event;
    const x = pageX - canvasEle.offsetLeft;
    const y = pageY - canvasEle.offsetTop;

    return {
       x,
       y
    } 
}

const drawLine = () => {
   context.beginPath();
   context.moveTo(startPosition.x, startPosition.y);
   context.lineTo(lineCoordinates.x, lineCoordinates.y);
   context.stroke();
}

const mouseDownListener = (event) => {
    i = i + 1;
    console.log(i);
    switch(i) {
    case 1:
        XcoordS1 = event.clientX;
        YcoordS1 = event.clientY;
        console.log("Start = X1: " + XcoordS1 + " - Y1: " + YcoordS1);
        break;
    case 2:
        XcoordS2 = event.clientX;
        YcoordS2 = event.clientY;
        console.log("Start = X2: " + XcoordS2 + " - Y2: " + YcoordS2);
        break;
    case 3:
        XcoordS3 = event.clientX;
        YcoordS3 = event.clientY;
        console.log("Start = X3: " + XcoordS3 + " - Y3: " + YcoordS3);
        break;
    case 4:
        XcoordS4 = event.clientX;
        YcoordS4 = event.clientY;
        console.log("Start = X4: " + XcoordS4 + " - Y4: " + YcoordS4);
        break;
    case 5:
        XcoordS5 = event.clientX;
        YcoordS5 = event.clientY;
        console.log("Start = X5: " + XcoordS5 + " - Y5: " + YcoordS5);
        break;
    case 6:
        XcoordS6 = event.clientX;
        YcoordS6 = event.clientY;
        console.log("Start = X6: " + XcoordS6 + " - Y6: " + YcoordS6);
        break;
    default:
        // code block
    }
   startPosition = getClientOffset(event);
   isDrawStart = true;
}

const touchDownListener = (event) => {
    i = i + 1;
    console.log(i);
    switch(i) {
    case 1:
        XcoordS1 = event.changedTouches[0].pageX;
        YcoordS1 = event.changedTouches[0].pageY;
        console.log("Start = X1: " + XcoordS1 + " - Y1: " + YcoordS1);
        break;
    case 2:
        XcoordS2 = event.changedTouches[0].pageX;
        YcoordS2 = event.changedTouches[0].pageY;
        console.log("Start = X2: " + XcoordS2 + " - Y2: " + YcoordS2);
        break;
    case 3:
        XcoordS3 = event.changedTouches[0].pageX;
        YcoordS3 = event.changedTouches[0].pageY;
        console.log("Start = X3: " + XcoordS3 + " - Y3: " + YcoordS3);
        break;
    case 4:
        XcoordS4 = event.changedTouches[0].pageX;
        YcoordS4 = event.changedTouches[0].pageY;
        console.log("Start = X4: " + XcoordS4 + " - Y4: " + YcoordS4);
        break;
    case 5:
        XcoordS5 = event.changedTouches[0].pageX;
        YcoordS5 = event.changedTouches[0].pageY;
        console.log("Start = X5: " + XcoordS5 + " - Y5: " + YcoordS5);
        break;
    case 6:
        XcoordS6 = event.changedTouches[0].pageX;
        YcoordS6 = event.changedTouches[0].pageY;
        console.log("Start = X6: " + XcoordS6 + " - Y6: " + YcoordS6);
        break;
    default:
        // code block
    }
   startPosition = getClientOffset(event);
   isDrawStart = true;
}

const allMoveListener = (event) => {
  if(!isDrawStart) return;
  
  lineCoordinates = getClientOffset(event);
  clearCanvas();
  drawLine();
}

const mouseupListener = (event) => {
    switch(i) {
    case 1:
        XcoordF1 = event.clientX;
        YcoordF1 = event.clientY;
        console.log("End = X1: " + XcoordF1 + " - Y1: " + YcoordF1);
        break;
    case 2:
        XcoordF2 = event.clientX;
        YcoordF2 = event.clientY;
        console.log("End = X2: " + XcoordF2 + " - Y2: " + YcoordF2);
        break;
    case 3:
        XcoordF3 = event.clientX;
        YcoordF3 = event.clientY;
        console.log("End = X3: " + XcoordF3 + " - Y3: " + YcoordF3);
        break;
    case 4:
        XcoordF4 = event.clientX;
        YcoordF4 = event.clientY;
        console.log("End = X4: " + XcoordF4 + " - Y4: " + YcoordF4);
        break;
    case 5:
        XcoordF5 = event.clientX;
        YcoordF5 = event.clientY;
        console.log("End = X5: " + XcoordF5 + " - Y5: " + YcoordF5);
        break;
    case 6:
        XcoordF6 = event.clientX;
        YcoordF6 = event.clientY;
        console.log("End = X6: " + XcoordF6 + " - Y6: " + YcoordF6);
        break;
    default:
        // code block
    }
  isDrawStart = false;
}

const touchupListener = (event) => {
    switch(i) {
    case 1:
        XcoordF1 = event.changedTouches[0].pageX;
        YcoordF1 = event.changedTouches[0].pageY;
        console.log("End = X1: " + XcoordF1 + " - Y1: " + YcoordF1);
        break;
    case 2:
        XcoordF2 = event.changedTouches[0].pageX;
        YcoordF2 = event.changedTouches[0].pageY;
        console.log("End = X2: " + XcoordF2 + " - Y2: " + YcoordF2);
        break;
    case 3:
        XcoordF3 = event.changedTouches[0].pageX;
        YcoordF3 = event.changedTouches[0].pageY;
        console.log("End = X3: " + XcoordF3 + " - Y3: " + YcoordF3);
        break;
    case 4:
        XcoordF4 = event.changedTouches[0].pageX;
        YcoordF4 = event.changedTouches[0].pageY;
        console.log("End = X4: " + XcoordF4 + " - Y4: " + YcoordF4);
        break;
    case 5:
        XcoordF5 = event.changedTouches[0].pageX;
        YcoordF5 = event.changedTouches[0].pageY;
        console.log("End = X5: " + XcoordF5 + " - Y5: " + YcoordF5);
        break;
    case 6:
        XcoordF6 = event.changedTouches[0].pageX;
        YcoordF6 = event.changedTouches[0].pageY;
        console.log("End = X6: " + XcoordF6 + " - Y6: " + YcoordF6);
        break;
    default:
        // code block
    }
  isDrawStart = false;
}

const clearCanvas = () => {
   context.clearRect(0, 0, canvasEle.width, canvasEle.height);
   // redraw line1
   context.beginPath();
   context.moveTo(XcoordS1, YcoordS1);
   context.lineTo(XcoordF1, YcoordF1);
   context.stroke();
   //redraw line2
   context.beginPath();
   context.moveTo(XcoordS2, YcoordS2);
   context.lineTo(XcoordF2, YcoordF2);
   context.stroke();
   //redraw line3
   context.beginPath();
   context.moveTo(XcoordS3, YcoordS3);
   context.lineTo(XcoordF3, YcoordF3);
   context.stroke();
   //redraw line4
   context.beginPath();
   context.moveTo(XcoordS4, YcoordS4);
   context.lineTo(XcoordF4, YcoordF4);
   context.stroke();
   //redraw line5
   context.beginPath();
   context.moveTo(XcoordS5, YcoordS5);
   context.lineTo(XcoordF5, YcoordF5);
   context.stroke();
}

canvasEle.addEventListener('mousedown', mouseDownListener);
canvasEle.addEventListener('mousemove', allMoveListener);
canvasEle.addEventListener('mouseup', mouseupListener);

canvasEle.addEventListener('touchstart', touchDownListener);
canvasEle.addEventListener('touchmove', allMoveListener);
canvasEle.addEventListener('touchend', touchupListener);

</script>

</body>
</html>